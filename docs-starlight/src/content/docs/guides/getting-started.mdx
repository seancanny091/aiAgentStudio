---
title: Getting Started
description: Deploy and configure your first AI agent.
---

import { Aside, Badge, Card, CardGrid, LinkCard, Steps, TabItem, Tabs } from '@astrojs/starlight/components';


# Getting Started

Complete guide to deploying and configuring your first AI agent.

<Aside type="tip" title="Fastest path">
Run `cci flow run dev_org --org dev` with [CumulusCI](https://cumulusci.readthedocs.io/en/stable/get-started.html) to get a fully configured scratch org in one command.
</Aside>

## Setup Flow

<Steps>
1. Deploy the framework.
2. Configure Named Credentials.
3. Create an LLM Configuration.
4. Create your first agent.
5. Add capabilities.
6. Add the chat component and test.
</Steps>

<CardGrid>
  <LinkCard title="Configuration Reference" href="../configuration/">
    Field-level settings for agents, safety controls, and runtime behavior.
  </LinkCard>
  <LinkCard title="Developer Guide" href="../developer-guide/">
    Build custom actions and context providers.
  </LinkCard>
  <LinkCard title="Troubleshooting" href="../troubleshooting/">
    Diagnose setup and runtime issues quickly.
  </LinkCard>
</CardGrid>


## Prerequisites

<CardGrid>
  <Card title="Salesforce Org" icon="seti:salesforce">
    Sandbox recommended for initial setup and testing. System Administrator access or equivalent permissions.
  </Card>
  <Card title="AI Provider API Key" icon="seti:key">
    [OpenAI](https://platform.openai.com/api-keys) or any OpenAI-compatible service. [Google AI Studio](https://ai.google.dev/) for Gemini via `VertexAIProviderAdapter` (addon).
  </Card>
  <Card title="Salesforce CLI" icon="seti:shell">
    Required for source-based deployments. [Install here](https://developer.salesforce.com/tools/salesforcecli). CumulusCI users also need the [CumulusCI CLI](https://cumulusci.readthedocs.io/en/stable/get-started.html).
  </Card>
</CardGrid>

---

## Step 1: Deploy the Framework

<Tabs>
  <TabItem label="CumulusCI (Recommended)">

[CumulusCI](https://cumulusci.readthedocs.io/en/stable/get-started/) provides the fastest way to get started with a fully configured scratch org.

```bash
# Clone the repository
git clone https://github.com/iamsonal/aiAgentStudio.git
cd aiAgentStudio

# Run the dev_org flow
cci flow run dev_org --org dev
```

This single command performs all of the following:

| Step | What it does |
|:-----|:-------------|
| Deploy Framework | Deploys all Apex classes, LWCs, objects, and metadata from `force-app` |
| Deploy Seed Data | Deploys utility classes from `seed-data` folder |
| Assign Permission Sets | Assigns `AIAgentStudioConfigurator` and `AIAgentStudioEndUser` |
| Enable Knowledge | Enables Knowledge user and assigns `KnowledgeDemo` permission set |
| Create Sample Data | Runs `AgentTestDataFactory.createComprehensiveShowcase()` to create sample agents and test data |
| Setup Connected App | Configures a Connected App for API access |

After the flow completes, open your scratch org:

```bash
cci org browser dev
```

You'll have working sample agents ready to test. Explore the `seed-data` folder and `AgentTestDataFactory` class to see what gets created.

  </TabItem>
  <TabItem label="Salesforce CLI">

For existing orgs or when you need more control over the deployment:

```bash
# Clone the repository
git clone https://github.com/iamsonal/aiAgentStudio.git
cd aiAgentStudio

# Authenticate to your org
sf org login web -a your-org-alias

# Deploy the framework
sf project deploy start -d force-app/main/default -o your-org-alias
```

  </TabItem>
</Tabs>

---

## Step 2: Configure Named Credentials

<Aside type="caution">
Never commit API keys to source control. Named Credentials keep secrets out of metadata.
</Aside>

Named Credentials securely store your AI provider API keys.

<Tabs>
  <TabItem label="OpenAI">

1. Go to **Setup → Named Credentials → New**
2. Configure:
   - **Label**: `OpenAI API`
   - **Name**: `OpenAI_API`
   - **URL**: `https://api.openai.com`
   - **Identity Type**: Named Principal
   - **Authentication Protocol**: Custom
3. Add External Credential with your API key as a header:
   - **Header Name**: `Authorization`
   - **Header Value**: `Bearer YOUR_API_KEY`

  </TabItem>
  <TabItem label="OpenAI-compatible APIs">

`OpenAIProviderAdapter` works with any API that speaks the OpenAI chat completions format — Azure OpenAI, Groq, Together AI, Ollama, or a self-hosted model server. Just change the Named Credential URL to point at the provider's endpoint:

1. Go to **Setup → Named Credentials → New**
2. Configure:
   - **Label**: `My Provider API`
   - **Name**: `MyProvider_API`
   - **URL**: `https://YOUR_PROVIDER_BASE_URL` (e.g. `https://api.groq.com`)
3. Add the appropriate auth header (typically `Authorization: Bearer YOUR_API_KEY`)
4. In your `LLMConfiguration__c` record set `ProviderAdapterClass__c = OpenAIProviderAdapter`

  </TabItem>
  <TabItem label="Google Vertex AI / Gemini">

The `VertexAIProviderAdapter` (in `aiAgentStudioAddons`) handles the Gemini content format. Two Named Credentials ship with it:

| Named Credential | URL | Use case |
|:----------------|:----|:---------|
| `GoogleAI_API` | `https://generativelanguage.googleapis.com/v1beta/models` | Google AI Studio (API key) |
| `VertexAI_API` | `https://{region}-aiplatform.googleapis.com/.../models` | Google Cloud Vertex AI |

For both, use the `VertexAIEC` External Credential and provide your `x-goog-api-key` as the secret. Set `ProviderAdapterClass__c = VertexAIProviderAdapter` in your `LLMConfiguration__c`.

  </TabItem>
  <TabItem label="Other providers">

For providers with a non-OpenAI API format, extend `BaseProviderAdapter` and implement `buildProviderRequest()` and `parseProviderResponse()`. The framework instantiates adapters dynamically via the `ProviderAdapterClass__c` field, so no framework code changes are needed.

  </TabItem>
</Tabs>

---

## Step 3: Create LLM Configuration

LLM Configurations define how to connect to your AI provider.

1. Open **App Launcher → LLM Configurations**
2. Click **New**
3. Fill in the fields:

| Field | Value | Description |
|:------|:------|:------------|
| Developer Name | `OpenAI_GPT4o` | Unique identifier |
| Named Credential | `OpenAI_API` | Your named credential |
| Provider Adapter Class | `OpenAIProviderAdapter` | Provider-specific adapter |
| Default Model | `gpt-4o-mini` | Model to use |
| Temperature | `0.7` | Creativity (0-1) |
| Max Tokens | `4096` | Maximum response length |
| Is Active | ✓ | Enable this configuration |

### Available Provider Adapters

| Provider | Adapter Class | Location |
|:---------|:--------------|:---------|
| OpenAI + any OpenAI-compatible API | `OpenAIProviderAdapter` | Core |
| Google Vertex AI / Gemini | `VertexAIProviderAdapter` | Addon |
| Custom | Extend `BaseProviderAdapter` | Your code |

---

## Step 4: Create Your First Agent

1. Open **App Launcher → AI Agent Definitions**
2. Click **New**
3. Configure basic settings:

| Field | Value |
|:------|:------|
| Name | `Sales Assistant` |
| Developer Name | `Sales_Assistant` |
| Agent Type | `Conversational` |
| LLM Configuration | `OpenAI_GPT4o` |
| Is Active | ✓ |

4. Configure memory settings:

| Field | Value | Description |
|:------|:------|:------------|
| Memory Strategy | `BufferWindow` | How to manage history |
| History Turn Limit | `10` | Conversations to remember |

5. Configure prompts:

**Identity Prompt** (Who the agent is):
```
You are a helpful Salesforce assistant for the sales team.
You help users find accounts, contacts, and opportunities.
You are professional, concise, and always confirm before making changes.
```

**Instructions Prompt** (How to behave):
```
- Always greet users warmly
- Ask clarifying questions when requests are ambiguous
- Confirm before creating or updating records
- Provide summaries of search results
- If you can't help, explain why and suggest alternatives
```

---

## Step 5: Add Capabilities

<Aside type="note">
Capabilities are the tools your agent can use. Start with read-only capabilities, then add write capabilities with approvals.
</Aside>

<Tabs>
  <TabItem label="Search Contacts">

1. Open **App Launcher → Agent Capabilities**
2. Click **New**
3. Configure:

| Field | Value |
|:------|:------|
| Capability Name | `search_contacts` |
| Description | `Search for contacts by name, email, or account. Use this when users ask to find contact information.` |
| Implementation Type | `Standard` |
| Standard Action Type | `GetRecordDetails` |
| AI Agent Definition | `Sales Assistant` |

4. Add Backend Configuration:
```json
{
  "objectApiName": "Contact"
}
```

5. Add Parameters (JSON Schema):
```json
{
  "type": "object",
  "properties": {
    "firstName": {
      "type": "string",
      "description": "Contact's first name"
    },
    "lastName": {
      "type": "string",
      "description": "Contact's last name"
    },
    "email": {
      "type": "string",
      "description": "Contact's email address"
    },
    "accountName": {
      "type": "string",
      "description": "Name of the contact's account"
    }
  }
}
```

  </TabItem>
  <TabItem label="Create Task">

| Field | Value |
|:------|:------|
| Capability Name | `create_task` |
| Description | `Create a follow-up task. Use when users want to schedule reminders or to-dos.` |
| Implementation Type | `Standard` |
| Standard Action Type | `CreateRecord` |
| Requires Approval | ✓ |

Backend Configuration:
```json
{
  "objectApiName": "Task"
}
```

Parameters:
```json
{
  "type": "object",
  "required": ["Subject"],
  "properties": {
    "Subject": {
      "type": "string",
      "description": "Task subject/title"
    },
    "Description": {
      "type": "string",
      "description": "Task details"
    },
    "ActivityDate": {
      "type": "string",
      "description": "Due date in YYYY-MM-DD format"
    },
    "Priority": {
      "type": "string",
      "enum": ["High", "Normal", "Low"],
      "description": "Task priority"
    }
  }
}
```

  </TabItem>
</Tabs>

---

## Step 6: Add Chat Component to a Page

<Steps>
1. Go to **Setup → Lightning App Builder**.
2. Edit an existing page or create a new one.
3. Find **aiAssistantChat** in the components panel.
4. Drag it onto your page.
5. Set **Agent Developer Name** to `Sales_Assistant`.
6. Click **Save** and **Activate** the page.
</Steps>

---

## Step 7: Test Your Agent

Open the page with your chat component and try these conversations:

```
You: Hi there!
Agent: Hello! I'm your Sales Assistant. How can I help you today?

You: Find contacts at Acme Corp
Agent: [Searches and returns contacts]

You: Create a task to follow up with John Smith next week
Agent: I'll create a follow-up task for John Smith. Here are the details:
       - Subject: Follow up with John Smith
       - Due Date: [next week]
       Should I proceed?

You: Yes
Agent: ✓ Task created successfully!
```

---

## Next Steps

<CardGrid>
  <LinkCard title="Configuration Reference" href="../configuration/">
    Deep dive into all agent, capability, safety, and runtime settings.
  </LinkCard>
  <LinkCard title="Standard Actions" href="../../reference/actions/">
    All built-in actions with configuration examples and best practices.
  </LinkCard>
  <LinkCard title="Custom Actions" href="../developer-guide/#custom-actions">
    Build your own capabilities with `IAgentAction`.
  </LinkCard>
  <LinkCard title="Security" href="../../reference/security/">
    Permissions, PII masking, and governance best practices.
  </LinkCard>
  <LinkCard title="Troubleshooting" href="../troubleshooting/">
    Common issues and solutions for setup and runtime problems.
  </LinkCard>
  <LinkCard title="Examples" href="../examples/">
    Complete agent configurations ready to deploy.
  </LinkCard>
</CardGrid>
